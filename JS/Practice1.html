<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      hr {
        margin-top: 10px;
        margin-bottom: 10px;
      }

      .button {
        margin: 10px;
      }
    </style>
    <script src='HashMap.js' defer></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const map = new HashMap();
        let valueInputText = document.getElementById('valueInput');
        let keyInputText = document.getElementById('keyInput');
        const resLabel = document.getElementById('resLabel');

        document.getElementById('putBtn').addEventListener('click', function () {
          keyInputTextStr = keyInputText.value.trim();
          if (!keyInputTextStr) {
            alert('KEY值不能空白');
            return;
          }

          if (map.contains(keyInputTextStr)) {
            alert('KEY值不能重複');
            return;
          }
          let value = valueInputText.value.trim();
          map.put(keyInputTextStr, value);
          resLabel.innerText += keyInputTextStr+ ':' + value + '\n';
        });
        document.getElementById('clearBtn').addEventListener('click', function () {
          map.clear();
          resLabel.innerText = '';
          valueInputText.value = '';
          keyInputText.value = '';
        });
        
      });
      
    </script>
  </head>

  <body>
    <form action="get">
      <table>
        <tr>
          <td>KEY</td>
          <th><input id="keyInput" type="text" /></th>
        </tr>
        <tr>
          <td>VALUE</td>
          <th><input id="valueInput" type="text" /></th>
        </tr>
      </table>
      <hr />
      <button id="putBtn" class="button" type="button">PUT</button>
      <button id="clearBtn" class="button" type="button">CLEAR</button>
      <hr />
    </form>
    <p>【RESULT】</p>
    <label id="resLabel" for=""></label>
  </body>
</html>
